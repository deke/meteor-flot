(function(e){function n(t){function n(t,n){e.each(t.getData(),function(e,i){r(t,n,i)})}function r(t,n,r){var i=t.getOptions().series.direction;r=e.extend(true,{},i,r,r.direction);if(!r.show||r.data.length<1||r.data[0].length<3){return}var s,o,u;var a=r.data;var f=r.arrawLength;for(s=0;s<a.length;s++){if(a[s].length<3||a[s][1]===null){continue}o=a[s][0];u=a[s][1];var l=t.pointOffset({x:o,y:u,xaxis:r.xaxis,yaxis:r.yaxis});o=l.left;u=l.top;if(!r.zeroShow&&Math.abs(a[s][1])<r.threshold){n.beginPath();n.strokeStyle=r.color;n.lineWidth=r.lineWidth||1;n.arc(o,u,f,0,r.shadow?Math.PI:Math.PI*2,false);n.closePath();continue}if(r.angleType=="degree"){direct=(90-a[s][2]+r.angleStart)*Math.PI/180}else{direct=Math.PI/2-a[s][2]+r.angleStart}var c=.5;var h=o+f*Math.cos(direct);var p=u-f*Math.sin(direct);var d=o-f*Math.cos(direct)*c;var v=u+f*Math.sin(direct)*c;var m=r.openAngle*Math.PI/180%90;var g=d-f/Math.cos(m)*Math.cos(direct+m);var y=v+f/Math.cos(m)*Math.sin(direct+m);var b=d-f/Math.cos(m)*Math.cos(direct-m);var w=v+f/Math.cos(m)*Math.sin(direct-m);n.beginPath();n.strokeStyle=r.color;n.lineWidth=1;n.moveTo(d,v);n.lineTo(g,y);n.lineTo(h,p);n.lineTo(b,w);n.lineTo(d,v);n.closePath();n.fillStyle=r.fillColor;n.fill();n.stroke()}}t.hooks.draw.push(n)}var t={series:{direction:{show:true,lineWidth:1,color:"rgb(100, 60, 60)",fillColor:"rgb(100, 60, 60)",arrawLength:8,angleType:"degree",openAngle:30,zeroShow:false,threshold:1e-6,angleStart:0}}};e.plot.plugins.push({init:n,options:t,name:"direction",version:"1.4.2"})})(jQuery)